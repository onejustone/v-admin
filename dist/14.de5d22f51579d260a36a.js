webpackJsonp([14],{1130:function(t,e){function n(t){return t&&"object"==typeof t?r(t)||l(t)?t:c(t)?a(t,n):s(o(t),function(e,a){return e[i(a)]=n(t[a]),e},{}):t}function i(t){return t.replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()})}function a(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}function s(t,e,n){if(t.reduce)return t.reduce(e,n);for(var i=0;i<t.length;i++)n=e(n,t[i],i);return n}t.exports=function(t){return"string"==typeof t?i(t):n(t)};var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t){return"[object Date]"===Object.prototype.toString.call(t)},l=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},u=Object.prototype.hasOwnProperty,o=Object.keys||function(t){var e=[];for(var n in t)u.call(t,n)&&e.push(n);return e}},1165:function(t,e,n){"use strict";var i=n(1280),a=n(1130),s=n.n(a),c=[{title_id:"debug1",code:"1",name:"项目直接费用",children:[{title_id:"debug2",code:"1.1",name:"材料费",children:[{title_id:"debug3",code:"1.1.1",name:"水泥费",with_ledger:!0,fixed:!0},{title_id:"debug7",code:"1.1.2",name:"相机费",with_ledger:!0,fixed:!1}],with_ledger:!1,fixed:!0}],with_ledger:!1,fixed:!0},{title_id:"debug4",code:"2",name:"项目执行费用",with_ledger:!1,fixed:!0,children:[]},{title_id:"debug5",code:"3",name:"项目管理费用",with_ledger:!1,fixed:!0,children:[]}];e.a={name:"Cascader",components:{LxCascader:i.a},data:function(){return{cascaderProps:{value:"name",label:"name",children:"children"},value:[]}},computed:{cascaderOptions:function(){return s()(c)}}}},1166:function(t,e,n){"use strict";var i=n(43),a=n.n(i),s=n(148),c=n.n(s),r=n(89);e.a={name:"LxCascader",props:{options:{type:Array,default:function(){return[]}},valuesArr:{type:Array,default:function(){return[]}},props:{type:Object,default:function(){return{value:"value",children:"children",label:"label"}}},maxLevel:{type:Number,default:3},size:{type:String,default:"small"}},data:function(){return{show:!0,values:this.valuesArr,currentLabels:"",newItemValue:{},valueArr:[],disabled:!0,list:[],currentNode:"",localOptions:this.options,addNewInputStack:{},tmpStoreEditItem:""}},computed:{labelKey:function(){return this.props.label},childrenKey:function(){return this.props.children},valueKey:function(){return this.props.value},iconArrow:function(){return this.show?"el-icon-arrow-up":"el-icon-arrow-down"},newValue:function(t){}},mounted:function(){this.list=[this.options]},beforeDestoryed:function(){},methods:{showAction:function(){this.show=!this.show,this.initMenu()},initMenu:function(){this.addNewInputStack={},this.list=[this.options]},hide:function(){},selectAll:function(){var t=this;this.valueArr=[],this.list.forEach(function(e){e.forEach(function(e){e.selected&&t.valueArr.push(e)})}),this.currentLabels=this.getKeyValue(this.valueArr,this.labelKey).join("/")},getKeyValue:function(t,e){var n=[];return t.forEach(function(t){n.push(t[e])}),n},touch:function(t,e,n){t.stopPropagation(),this.currentNode=n,this.list.length!==1+e&&(this.list=this.list.slice(0,1+e)),this.list[e].map(function(t){t.selected=!1}),n.selected=!0,this.selectAll(),n.children?this.list.push(n.children):this.show=!1},showAddButton:function(t,e){return!(0===t||t>2)&&(!this.addNewInputStack["input_"+t]||!this.addNewInputStack["input_"+t].show)},handleAddNew:function(t,e,n){var i=this,a="input_"+e;this.list=this.list.slice(0,e+1),this.addNewInputStack[a]||this.$nextTick(function(t){i.$set(i.addNewInputStack,a,{})}),this.$nextTick(function(t){i.$set(i.addNewInputStack[a],"value",""),i.$set(i.addNewInputStack[a],"show",!0)}),setTimeout(function(){i.$refs[a][0].$refs.input.focus()},0)},newAddItem:function(t,e){var n,i="input_"+t,s=this.addNewInputStack[i].value,l=(n={},c()(n,this.valueKey,r.a.generateId()),c()(n,this.labelKey,s),n);t<this.maxLevel&&(l=a()({},l,c()({},this.childrenKey,[]))),e[t].push(l),this.addNewInputStack[i].show=!1},updateListTree:function(t,e,n,i){return e},canEdit:function(t){return!0},canDelete:function(t){return!0},handleDelete:function(t){},handleEdit:function(t){this.$_hasOwn(t,"isEdit")||this.$set(t,"isEdit",!0),t.isEdit=!0,this.tmpStoreEditItem=r.a.deepCloneObj(t)},doneMenuItemEdit:function(t){t.isEdit=!1},cancelMenuItemEdit:function(t){this.$set(t,this.valueKey,this.tmpStoreEditItem[this.valueKey]),this.$set(t,"isEdit",!1)},cancelAddItem:function(t,e){var n="input_"+t;this.$set(this.addNewInputStack[n],"show",!1)}}}},1279:function(t,e){},1280:function(t,e,n){"use strict";function i(t){n(1281)}var a=n(1166),s=n(1282),c=n(22),r=i,l=c(a.a,s.a,!1,r,null,null);e.a=l.exports},1281:function(t,e){},1282:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"lx-cascader",class:[{active:t.show,"is-disabled":t.disabled}]},[n("span",{staticClass:"lx-cascader-input",on:{click:t.showAction}},[n("el-input",{staticClass:"lx-cascader-text",attrs:{size:t.size},model:{value:t.currentLabels,callback:function(e){t.currentLabels=e},expression:"currentLabels"}}),n("i",{staticClass:"lx-cascader-allow",class:t.iconArrow})],1),t.show?n("span",{staticClass:"lx-cascader-content"},t._l(t.list,function(e,i){return n("ul",{staticClass:"lx-cascader-menu"},[t._l(e,function(e,a){return n("li",{staticClass:"lx-cascader-menu-item",class:[{"is-disabled":e.disabled}],on:{click:function(n){t.touch(n,i,e)}}},[e.isEdit?n("span",{staticClass:"lx-cascader-menu-item__edit"},[e.isEdit?n("el-input",{ref:"edit_"+e[t.valueKey],refInFor:!0,attrs:{size:t.size},model:{value:e[t.valueKey],callback:function(n){t.$set(e,t.valueKey,n)},expression:"item[valueKey]"}}):t._e(),n("i",{staticClass:"lx-cascader-menu-item-edit-icon el-icon-check is-active__primary",on:{click:function(n){t.doneMenuItemEdit(e)}}}),n("i",{staticClass:"lx-cascader-menu-item-edit-icon el-icon-close is-active__danger",on:{click:function(n){n.stopPropagation(),t.cancelMenuItemEdit(e)}}})],1):n("span",[n("span",{class:{"is-active":e.selected}},[t._v(t._s(e[t.labelKey]))]),i<t.maxLevel-1?n("i",{staticClass:"lx-cascader-menu-item-icon el-icon-arrow-right"}):t._e(),t.canDelete(e)?n("i",{staticClass:"lx-cascader-menu-item-icon el-icon-delete is-active__danger",on:{click:function(n){t.handleDelete(e)}}}):t._e(),t.canEdit(e)?n("i",{staticClass:"lx-cascader-menu-item-icon el-icon-edit is-active__primary",on:{click:function(n){t.handleEdit(e)}}}):t._e()])])}),t.addNewInputStack["input_"+i]&&t.addNewInputStack["input_"+i].show?n("li",{staticClass:"lx-cascader-new-item"},[n("el-input",{ref:"input_"+i,refInFor:!0,staticClass:"lx-cascader-new-item-text",attrs:{size:t.size,placeholder:"请输入节点名称"},model:{value:t.addNewInputStack["input_"+i].value,callback:function(e){t.$set(t.addNewInputStack["input_"+i],"value",e)},expression:"addNewInputStack['input_'+listIndex]['value']"}}),n("i",{staticClass:"new-item-icon el-icon-check",on:{click:function(e){t.newAddItem(i,t.list)}}}),n("i",{staticClass:"new-item-icon el-icon-close",on:{click:function(e){t.cancelAddItem(i,t.list)}}})],1):t._e(),t.showAddButton(i,t.list)?n("span",{staticClass:"add-item"},[n("el-tooltip",{attrs:{content:"添加新节点",placement:"top-start",effet:"dark"}},[n("el-button",{attrs:{type:"default",size:"mini",icon:"el-icon-plus"},on:{click:function(n){t.handleAddNew(n,i,e)}}})],1)],1):t._e()],2)}),0):t._e()])},a=[],s={render:i,staticRenderFns:a};e.a=s},1283:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("lx-cascader",{attrs:{options:t.cascaderOptions,props:t.cascaderProps,valuesArr:t.value},on:{"update:valuesArr":function(e){t.value=e}}}),n("span",[t._v("rootValue "+t._s(t.value))])],1)},a=[],s={render:i,staticRenderFns:a};e.a=s},910:function(t,e,n){"use strict";function i(t){n(1279)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1165),s=n(1283),c=n(22),r=i,l=c(a.a,s.a,!1,r,null,null);e.default=l.exports}});
//# sourceMappingURL=14.de5d22f51579d260a36a.js.map